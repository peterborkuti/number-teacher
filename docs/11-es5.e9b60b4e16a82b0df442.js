!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DOAJ:function(t,r,o){"use strict";o.r(r),o.d(r,"LearnNumsPageModule",(function(){return C}));var c,u,a=o("ofXK"),s=o("3Pt+"),f=o("TEn/"),b=o("tyNb"),h=o("fXoL"),l=o("Bcx0"),d=((c=function(){function t(){e(this,t)}return i(t,[{key:"check",value:function(n,t){return t.length==n.length?this.checkSameLength(n,t):t.length<n.length?this.checkDifferentLength(n,t):this.checkDifferentLength(t,n)}},{key:"checkDifferentLength",value:function(n,t){var e=this.checkSameLength(n.substr(-t.length),t),r=n.substring(0,n.length-t.length).split("").map((function(t,e){return{digit:+t,exp:n.length-e-1}}));return e.bads=e.bads.concat(r),e}},{key:"checkSameLength",value:function(t,e){var r,i=t.length-1,o=t.split("").map((function(n,t){return{q:+n,a:+e[t],exponent:i-t}})),c=o.filter((function(n){return n.a==n.q})).map((function(n){return{digit:n.a,exp:n.exponent}})),u=o.filter((function(n){return n.a!=n.q})).map((function(n){return[{digit:n.a,exp:n.exponent},{digit:n.q,exp:n.exponent}]}));return{goods:c,bads:(r=[]).concat.apply(r,n(u))}}}]),t}()).\u0275fac=function(n){return new(n||c)},c.\u0275prov=h.Db({token:c,factory:c.\u0275fac,providedIn:"root"}),c),p=o("Zjgs"),g=((u=function(){function n(){e(this,n)}return i(n,[{key:"newHint",value:function(n){var t=0,e=this.indexesInRandomOrder(n.length),r=Array(n.length).fill("?");return{getHint:function(){return r.join("")},nextHint:function(){r=Array(n.length).fill("?");var i=e[t];return t=t>=e.length-1?0:t+1,r[i]=n[i],r.join("")}}}},{key:"indexesInRandomOrder",value:function(n){return Array(n).fill(0).map((function(n,t){return t})).map((function(n){return[Math.random(),n]})).sort().map((function(n){return n[1]}))}}]),n}()).\u0275fac=function(n){return new(n||u)},u.\u0275prov=h.Db({token:u,factory:u.\u0275fac,providedIn:"root"}),u),m=["numberInput"];function w(n,t){if(1&n&&(h.Kb(0,"span"),h.ec(1),h.Jb()),2&n){var e=h.Ub();h.xb(1),h.fc(e.question)}}function y(n,t){if(1&n){var e=h.Lb();h.Kb(0,"ion-button",9),h.Sb("click",(function(){h.ac(e);var n=h.Ub();return n.say(n.answer)})),h.Ib(1,"ion-icon",1),h.Jb()}}var v,k,A,I,x=((v=function(){function n(t,r,i,o){e(this,n),this.probdbService=t,this.answerChecker=r,this.speechService=i,this.hintService=o,this.wrongAnswer=!0,this.answerIsEmpty=!0,this.hint=""}return i(n,[{key:"ngOnInit",value:function(){this.newQuestion()}},{key:"newQuestion",value:function(){var n=this,t=this.probdbService.getNumberToAsk();this.question=t.join(""),this.answer="",this.wrongAnswer=!1,this.say(this.question),this.hintManager=this.hintService.newHint(this.question),this.hint=this.hintManager.getHint(),setTimeout((function(){return n.numberInput.setFocus()}),0)}},{key:"checkAnswer",value:function(){var n=this;if(this.wrongAnswer)this.newQuestion();else{var t=this.answerChecker.check(this.question,""+this.answer);t.bads.forEach((function(t){return n.probdbService.bad(t.exp,t.digit)})),t.goods.forEach((function(t){return n.probdbService.good(t.exp,t.digit)})),this.wrongAnswer=t.bads.length>0,this.wrongAnswer||this.newQuestion()}}},{key:"inputChanged",value:function(n){this.answerIsEmpty=!n||""==n}},{key:"say",value:function(n){this.speechService.say(n)}},{key:"showHint",value:function(){this.hint=this.hintManager.nextHint()}}]),n}()).\u0275fac=function(n){return new(n||v)(h.Hb(l.a),h.Hb(d),h.Hb(p.a),h.Hb(g))},v.\u0275cmp=h.Bb({type:v,selectors:[["teacher"]],viewQuery:function(n,t){var e;1&n&&h.hc(m,!0),2&n&&h.Zb(e=h.Tb())&&(t.numberInput=e.first)},decls:11,vars:7,consts:[["name","say",3,"click"],["name","megaphone"],[4,"ngIf"],["name","hint",3,"disabled","click"],["autofocus","true","type","number","inputmode","numeric",3,"disabled","ngModel","ionChange","ngModelChange"],["numberInput",""],["name","check",3,"disabled","click"],["name","checkmark"],["color","danger","name","sayAnswer",3,"click",4,"ngIf"],["color","danger","name","sayAnswer",3,"click"]],template:function(n,t){1&n&&(h.Kb(0,"p"),h.Kb(1,"ion-button",0),h.Sb("click",(function(){return t.say(t.question)})),h.Ib(2,"ion-icon",1),h.dc(3,w,2,1,"span",2),h.Jb(),h.Kb(4,"ion-button",3),h.Sb("click",(function(){return t.showHint()})),h.ec(5),h.Jb(),h.Kb(6,"ion-input",4,5),h.Sb("ionChange",(function(n){return t.inputChanged(n.detail.value)}))("ngModelChange",(function(n){return t.answer=n})),h.Jb(),h.Kb(8,"ion-button",6),h.Sb("click",(function(){return t.checkAnswer()})),h.Ib(9,"ion-icon",7),h.Jb(),h.dc(10,y,2,0,"ion-button",8),h.Jb()),2&n&&(h.xb(3),h.Xb("ngIf",t.wrongAnswer),h.xb(1),h.Xb("disabled",t.wrongAnswer),h.xb(1),h.fc(t.hint),h.xb(1),h.Xb("disabled",t.wrongAnswer)("ngModel",t.answer),h.xb(2),h.Xb("disabled",t.answerIsEmpty),h.xb(2),h.Xb("ngIf",t.wrongAnswer))},directives:[f.b,f.f,a.i,f.g,f.w,s.d,s.e],styles:["ion-input[_ngcontent-%COMP%]{--background:#ddd;width:10em}"]}),v),S=[{path:"",component:(k=function(){function n(){e(this,n)}return i(n,[{key:"ngOnInit",value:function(){}}]),n}(),k.\u0275fac=function(n){return new(n||k)},k.\u0275cmp=h.Bb({type:k,selectors:[["app-learn-nums"]],decls:8,vars:0,consts:[["slot","start"],["color","dark"]],template:function(n,t){1&n&&(h.Kb(0,"ion-header"),h.Kb(1,"ion-toolbar"),h.Kb(2,"ion-buttons",0),h.Ib(3,"ion-menu-button",1),h.Jb(),h.Kb(4,"ion-title"),h.ec(5,"learn-nums"),h.Jb(),h.Jb(),h.Jb(),h.Kb(6,"ion-content"),h.Ib(7,"teacher"),h.Jb())},directives:[f.e,f.s,f.c,f.l,f.r,f.d,x],styles:[""]}),k)}],J=((A=function n(){e(this,n)}).\u0275mod=h.Fb({type:A}),A.\u0275inj=h.Eb({factory:function(n){return new(n||A)},imports:[[b.i.forChild(S)],b.i]}),A),K=o("mmKz"),C=((I=function n(){e(this,n)}).\u0275mod=h.Fb({type:I}),I.\u0275inj=h.Eb({factory:function(n){return new(n||I)},imports:[[a.b,s.a,f.t,K.a,J]]}),I)}}])}();