(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DOAJ:function(e,n,t){"use strict";t.r(n),t.d(n,"LearnNumsPageModule",(function(){return g}));var i=t("ofXK"),s=t("3Pt+"),o=t("TEn/"),c=t("tyNb"),r=t("fXoL"),h=t("Bcx0");let a=(()=>{class e{constructor(){}check(e,n){return n.length==e.length?this.checkSameLength(e,n):n.length<e.length?this.checkDifferentLength(e,n):this.checkDifferentLength(n,e)}checkDifferentLength(e,n){const t=this.checkSameLength(e.substr(-n.length),n),i=e.substring(0,e.length-n.length).split("").map((n,t)=>({digit:+n,exp:e.length-t-1}));return t.bads=t.bads.concat(i),t}checkSameLength(e,n){const t=e.length-1,i=e.split("").map((e,i)=>({q:+e,a:+n[i],exponent:t-i})),s=i.filter(e=>e.a==e.q).map(e=>({digit:e.a,exp:e.exponent})),o=i.filter(e=>e.a!=e.q).map(e=>[{digit:e.a,exp:e.exponent},{digit:e.q,exp:e.exponent}]);return{goods:s,bads:[].concat(...o)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=r.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=t("Zjgs");let u=(()=>{class e{constructor(e,n,t){this.probdbService=e,this.answerChecker=n,this.speechService=t,this.hint="",this.hintIndexesIndex=0}ngOnInit(){this.generateQuestion()}generateQuestion(){const e=this.probdbService.getNumberToAsk();this.question=e.join(""),this.answer="",this.speechService.say(this.question),this.hint="",this.hintIndexesIndex=0,this.hintIndexes=Array(this.question.length).fill(0).map((e,n)=>n).map(e=>[Math.random(),e]).sort().map(e=>e[1])}checkAnswer(){const e=this.answerChecker.check(this.question,""+this.answer);e.bads.forEach(e=>this.probdbService.bad(e.exp,e.digit)),e.goods.forEach(e=>this.probdbService.good(e.exp,e.digit)),this.generateQuestion()}say(){this.speechService.say(this.question)}showHint(){const e=Array(this.question.length).fill("?"),n=this.hintIndexes[this.hintIndexesIndex];this.hintIndexesIndex=this.hintIndexesIndex>=this.hintIndexes.length-1?0:this.hintIndexesIndex+1,e[n]=this.question[n],this.hint=e.join("")}}return e.\u0275fac=function(n){return new(n||e)(r.Hb(h.a),r.Hb(a),r.Hb(b.a))},e.\u0275cmp=r.Bb({type:e,selectors:[["teacher"]],decls:9,vars:2,consts:[["name","say",3,"click"],["name","megaphone"],["name","hint",3,"click"],["name","help"],["autofocus","true","type","number","inputmode","numeric",3,"ngModel","ngModelChange"],["name","check",3,"click"],["name","checkmark"]],template:function(e,n){1&e&&(r.Kb(0,"p"),r.Kb(1,"ion-button",0),r.Rb("click",(function(){return n.say()})),r.Ib(2,"ion-icon",1),r.Jb(),r.Kb(3,"ion-button",2),r.Rb("click",(function(){return n.showHint()})),r.Ib(4,"ion-icon",3),r.Jb(),r.bc(5),r.Kb(6,"ion-input",4),r.Rb("ngModelChange",(function(e){return n.answer=e})),r.Jb(),r.Kb(7,"ion-button",5),r.Rb("click",(function(){return n.checkAnswer()})),r.Ib(8,"ion-icon",6),r.Jb(),r.Jb()),2&e&&(r.xb(5),r.dc(" ",n.hint," "),r.xb(1),r.Vb("ngModel",n.answer))},directives:[o.b,o.f,o.g,o.w,s.d,s.e],styles:["ion-input[_ngcontent-%COMP%]{--background:#ddd;width:10em}"]}),e})();const d=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=r.Bb({type:e,selectors:[["app-learn-nums"]],decls:8,vars:0,consts:[["slot","start"],["color","dark"]],template:function(e,n){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Ib(3,"ion-menu-button",1),r.Jb(),r.Kb(4,"ion-title"),r.bc(5,"learn-nums"),r.Jb(),r.Jb(),r.Jb(),r.Kb(6,"ion-content"),r.Ib(7,"teacher"),r.Jb())},directives:[o.e,o.s,o.c,o.l,o.r,o.d,u],styles:[""]}),e})()}];let l=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(n){return new(n||e)},imports:[[c.i.forChild(d)],c.i]}),e})();var p=t("mmKz");let g=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(n){return new(n||e)},imports:[[i.b,s.a,o.t,p.a,l]]}),e})()}}]);