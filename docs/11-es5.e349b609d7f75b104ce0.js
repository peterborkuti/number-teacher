!function(){function n(n){return function(n){if(Array.isArray(n))return e(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"==typeof n)return e(n,t);var i=Object.prototype.toString.call(n).slice(8,-1);"Object"===i&&n.constructor&&(i=n.constructor.name);if("Map"===i||"Set"===i)return Array.from(n);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function r(n,e,t){return e&&i(n.prototype,e),t&&i(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DOAJ:function(e,i,o){"use strict";o.r(i),o.d(i,"LearnNumsPageModule",(function(){return M}));var s,c,a=o("ofXK"),u=o("3Pt+"),b=o("TEn/"),h=o("tyNb"),f=o("fXoL"),l=o("Bcx0"),d=((s=function(){function e(){t(this,e)}return r(e,[{key:"check",value:function(n,e){return e.length==n.length?this.checkSameLength(n,e):e.length<n.length?this.checkDifferentLength(n,e):this.checkDifferentLength(e,n)}},{key:"checkDifferentLength",value:function(n,e){var t=this.checkSameLength(n.substr(-e.length),e),i=n.substring(0,n.length-e.length).split("").map((function(e,t){return{digit:+e,exp:n.length-t-1}}));return t.bads=t.bads.concat(i),t}},{key:"checkSameLength",value:function(e,t){var i,r=e.length-1,o=e.split("").map((function(n,e){return{q:+n,a:+t[e],exponent:r-e}})),s=o.filter((function(n){return n.a==n.q})).map((function(n){return{digit:n.a,exp:n.exponent}})),c=o.filter((function(n){return n.a!=n.q})).map((function(n){return[{digit:n.a,exp:n.exponent},{digit:n.q,exp:n.exponent}]}));return{goods:s,bads:(i=[]).concat.apply(i,n(c))}}}]),e}()).\u0275fac=function(n){return new(n||s)},s.\u0275prov=f.Db({token:s,factory:s.\u0275fac,providedIn:"root"}),s),p=o("Zjgs"),g=((c=function(){function n(){t(this,n)}return r(n,[{key:"newHint",value:function(n){var e=0,t=this.indexesInRandomOrder(n.length),i=Array(n.length).fill("?");return{getHint:function(){return i.join("")},nextHint:function(){i=Array(n.length).fill("?");var r=t[e];return e=e>=t.length-1?0:e+1,i[r]=n[r],i.join("")}}}},{key:"indexesInRandomOrder",value:function(n){return Array(n).fill(0).map((function(n,e){return e})).map((function(n){return[Math.random(),n]})).sort().map((function(n){return n[1]}))}}]),n}()).\u0275fac=function(n){return new(n||c)},c.\u0275prov=f.Db({token:c,factory:c.\u0275fac,providedIn:"root"}),c),m=["numberInput"];function y(n,e){if(1&n&&(f.Kb(0,"span"),f.ec(1),f.Jb()),2&n){var t=f.Ub();f.xb(1),f.fc(t.question)}}function w(n,e){if(1&n){var t=f.Lb();f.Kb(0,"ion-button",14),f.Sb("click",(function(){f.ac(t);var n=f.Ub();return n.say(n.answer)})),f.Ib(1,"ion-icon",1),f.Jb()}}var v,k,I,S,x=((v=function(){function n(e,i,r,o){t(this,n),this.probdbService=e,this.answerChecker=i,this.speechService=r,this.hintService=o,this.score=100,this.wrongAnswer=!0,this.answerIsEmpty=!0,this.hint=""}return r(n,[{key:"ngOnInit",value:function(){this.newQuestion()}},{key:"newQuestion",value:function(){var n=this;this.score=this.probdbService.getScore();var e=this.probdbService.getNumberToAsk();this.question=e.join(""),this.answer="",this.wrongAnswer=!1,this.say(this.question),this.hintManager=this.hintService.newHint(this.question),this.hint=this.hintManager.getHint(),setTimeout((function(){return n.numberInput.setFocus()}),0)}},{key:"checkAnswer",value:function(){var n=this;if(this.wrongAnswer)this.newQuestion();else{var e=this.answerChecker.check(this.question,""+this.answer);e.bads.forEach((function(e){return n.probdbService.bad(e.exp,e.digit)})),e.goods.forEach((function(e){return n.probdbService.good(e.exp,e.digit)})),this.wrongAnswer=e.bads.length>0,this.wrongAnswer||this.newQuestion()}}},{key:"inputChanged",value:function(n){this.answerIsEmpty=!n||""==n}},{key:"say",value:function(n){this.speechService.say(n)}},{key:"showHint",value:function(){this.hint=this.hintManager.nextHint()}},{key:"reset",set:function(n){this.newQuestion()}}]),n}()).\u0275fac=function(n){return new(n||v)(f.Hb(l.a),f.Hb(d),f.Hb(p.a),f.Hb(g))},v.\u0275cmp=f.Bb({type:v,selectors:[["teacher"]],viewQuery:function(n,e){var t;1&n&&f.hc(m,!0),2&n&&f.Zb(t=f.Tb())&&(e.numberInput=t.first)},inputs:{reset:"reset"},decls:16,vars:9,consts:[["name","say",3,"click"],["name","megaphone"],[4,"ngIf"],["name","hint",3,"disabled","click"],["autofocus","true","type","number","inputmode","numeric",3,"disabled","ngModel","ionChange","ngModelChange"],["numberInput",""],["name","check",3,"disabled","click"],["name","checkmark"],["color","danger","name","sayAnswer",3,"click",4,"ngIf"],["min","0","max","100","step","1","ticks","10",3,"disabled","ngModel","ngModelChange"],["slot","start"],["name","rainy"],["slot","end"],["name","happy"],["color","danger","name","sayAnswer",3,"click"]],template:function(n,e){1&n&&(f.Kb(0,"p"),f.Kb(1,"ion-button",0),f.Sb("click",(function(){return e.say(e.question)})),f.Ib(2,"ion-icon",1),f.dc(3,y,2,1,"span",2),f.Jb(),f.Kb(4,"ion-button",3),f.Sb("click",(function(){return e.showHint()})),f.ec(5),f.Jb(),f.Kb(6,"ion-input",4,5),f.Sb("ionChange",(function(n){return e.inputChanged(n.detail.value)}))("ngModelChange",(function(n){return e.answer=n})),f.Jb(),f.Kb(8,"ion-button",6),f.Sb("click",(function(){return e.checkAnswer()})),f.Ib(9,"ion-icon",7),f.Jb(),f.dc(10,w,2,0,"ion-button",8),f.Kb(11,"ion-range",9),f.Sb("ngModelChange",(function(n){return e.score=n})),f.Kb(12,"span",10),f.Ib(13,"ion-icon",11),f.Jb(),f.Kb(14,"span",12),f.Ib(15,"ion-icon",13),f.Jb(),f.Jb(),f.Jb()),2&n&&(f.xb(3),f.Xb("ngIf",e.wrongAnswer),f.xb(1),f.Xb("disabled",e.wrongAnswer),f.xb(1),f.fc(e.hint),f.xb(1),f.Xb("disabled",e.wrongAnswer)("ngModel",e.answer),f.xb(2),f.Xb("disabled",e.answerIsEmpty),f.xb(2),f.Xb("ngIf",e.wrongAnswer),f.xb(1),f.Xb("disabled",!0)("ngModel",e.score))},directives:[b.d,b.h,a.i,b.i,b.y,u.d,u.e,b.p,b.B],styles:["ion-input[_ngcontent-%COMP%]{--background:#ddd;width:10em}"]}),v),A=[{path:"",component:(k=function(){function n(e){var i=this;t(this,n),this.probdbService=e,this.reset=0,this.groupName="",this.subscription=this.probdbService.$ready.subscribe((function(n){return n&&i.init()}))}return r(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"init",value:function(){this.groupName=this.probdbService.getName(),this.reset=this.reset%2+1}},{key:"ionViewDidEnter",value:function(){this.probdbService.ready&&this.init()}}]),n}(),k.\u0275fac=function(n){return new(n||k)(f.Hb(l.a))},k.\u0275cmp=f.Bb({type:k,selectors:[["app-learn-nums"]],decls:10,vars:2,consts:[["slot","start"],["color","dark"],["name","school"],[3,"reset"]],template:function(n,e){1&n&&(f.Kb(0,"ion-header"),f.Kb(1,"ion-toolbar"),f.Kb(2,"ion-buttons",0),f.Ib(3,"ion-menu-button",1),f.Ib(4,"ion-back-button"),f.Jb(),f.Kb(5,"ion-title"),f.Ib(6,"ion-icon",2),f.ec(7),f.Jb(),f.Jb(),f.Jb(),f.Kb(8,"ion-content"),f.Ib(9,"teacher",3),f.Jb()),2&n&&(f.xb(7),f.gc(" ",e.groupName,""),f.xb(2),f.Xb("reset",e.reset))},directives:[b.g,b.u,b.e,b.n,b.b,b.c,b.t,b.h,b.f,x],styles:[""]}),k)}],J=((I=function n(){t(this,n)}).\u0275mod=f.Fb({type:I}),I.\u0275inj=f.Eb({factory:function(n){return new(n||I)},imports:[[h.i.forChild(A)],h.i]}),I),K=o("mmKz"),M=((S=function n(){t(this,n)}).\u0275mod=f.Fb({type:S}),S.\u0275inj=f.Eb({factory:function(n){return new(n||S)},imports:[[a.b,u.a,b.v,K.a,J]]}),S)}}])}();